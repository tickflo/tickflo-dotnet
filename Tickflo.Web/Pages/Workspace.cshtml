@page "/workspaces/{slug}"
@model Tickflo.Web.Pages.WorkspaceModel
@{
    ViewData["Title"] = Model.Workspace?.Name ?? "Workspaces";
}

<div class="flex">
    <aside class="sticky top-0 h-screen w-60 overflow-y-auto bg-base-200 px-4 py-6" aria-labelledby="workspace-nav">
        <nav id="workspace-nav" aria-label="Workspace navigation" class="p-2">
    @await Html.PartialAsync("_WorkspaceSidebar", Model.Workspace?.Slug ?? "")
    </aside>

    <div class="flex-1 overflow-x-auto p-4">
        <div role="alert" class="alert alert-info mb-4">
            <span>You have not yet confirmed your email address</span>
            <div class="join join-horizontal">
                <form class="join-item" data-discover="true" action="/email-confirmation/dismiss" method="post">
                    <button type="submit" class="btn btn-soft btn-sm">Dismiss</button>
                </form>
                <form class="join-item" data-discover="true" action="/email-confirmation/resend" method="post">
                    <button type="submit" class="btn btn-soft btn-sm btn-primary">Resend Email</button>
                </form>
            </div>
        </div>

        @if (Model.Workspace == null)
        {
            <div class="card bg-base-100 shadow-sm">
                <div class="card-body">
                    <h2 class="card-title">Dashboard</h2>
                    <p class="text-sm text-base-content/70">TODO: Put a cool dashboard or something here</p>
                </div>
            </div>
        }
        else
        {
            @if (!Model.IsMember)
            {
                <div class="alert alert-warning mb-4">
                    <span>You are not a member of this workspace.</span>
                </div>
                <a class="link link-hover" href="/workspaces">Back to your workspaces</a>
            }
            else
            {
                <div class="card bg-base-100 shadow-sm mb-4">
                    <div class="card-body">
                        <h1 class="card-title">@Model.Workspace.Name</h1>
                        <p class="text-sm">Workspace slug: <span class="badge badge-sm">@Model.Workspace.Slug</span></p>
                        <div class="card-actions">
                            <a class="btn btn-soft btn-primary" asp-page="/Workspaces/UsersInvite" asp-route-slug="@Model.Workspace.Slug">Invite User</a>
                        </div>
                    </div>
                </div>

               
         <div>
            

                </div>
            }
        }
    </div>
</div>
